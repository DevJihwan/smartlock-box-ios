# 바보상자자물쇠 - 구독 모델 요구사항 정의서

## 📋 문서 정보
- **문서명**: 구독 모델 및 시간 제한 기능 차별화 요구사항
- **버전**: v2.0
- **작성일**: 2025년 11월 3일
- **최종 수정일**: 2025년 11월 3일
- **작성자**: DevJihwan
- **관련 문서**: REQUIREMENTS.md

---

## 🎯 구독 모델 개요

### 비즈니스 목표
- **무료 사용자**: 앱의 핵심 가치를 경험하고 유료 전환 유도
- **Premium 사용자**: 시간대별 세밀한 제어로 생산성 극대화

### 핵심 차별화 포인트
**시간 제한 설정의 유연성**을 구독 티어의 핵심 가치로 설정하여, 사용자가 자신의 라이프스타일에 맞는 세밀한 제어를 원할 때 Premium으로 전환하도록 유도

### 2-Tier 모델의 장점
- ✅ **명확한 선택**: 복잡하지 않은 2가지 옵션
- ✅ **간단한 의사결정**: "무료 vs 유료" 명확한 구분
- ✅ **낮은 가격 장벽**: $3.99의 합리적인 가격
- ✅ **높은 전환율**: 선택의 혼란 없음

---

## 💎 구독 티어 정의

### 1️⃣ Free (무료)
**가격**: $0
**타겟**: 디지털 디톡스 입문자, 앱 체험 사용자

### 2️⃣ Premium (프리미엄)
**가격**: 
- 월간: **$3.99** (₩5,500)
- 연간: **$31.99** (₩44,000) - 33% 할인

**타겟**: 시간대별 세밀한 제어가 필요한 모든 사용자

---

## ⏰ 시간 제한 설정 기능 상세 요구사항

### 📱 Free 티어 - 하루 총 사용량 제한

#### 기능 설명
무료 사용자는 **하루 전체 사용 시간**만 설정 가능하며, 특정 시간대를 구분하여 제어할 수 없습니다.

#### 설정 가능 항목
```
┌─────────────────────────────────────┐
│     📱 하루 사용 시간 설정          │
├─────────────────────────────────────┤
│                                     │
│  오늘의 목표 사용 시간:              │
│                                     │
│  ┌─────────────────────────────┐   │
│  │     [  3시간  ]             │   │
│  │     (Picker)                │   │
│  └─────────────────────────────┘   │
│                                     │
│  ⚠️ 하루 총 사용량만 제한됩니다      │
│                                     │
│  💎 시간대별 세부 제어가 필요하신가요?│
│     [Premium 살펴보기 →]           │
│                                     │
└─────────────────────────────────────┘
```

#### 동작 방식
1. **단일 카운터 방식**
   - 00:00부터 23:59까지 누적 사용 시간 추적
   - 설정한 시간(예: 3시간)에 도달하면 즉시 잠금
   
2. **제한 사항**
   - ❌ 시간대별 분할 불가
   - ❌ 특정 시간에만 사용 제한 불가
   - ❌ 점심시간/저녁시간 구분 불가

3. **예시 시나리오**
   ```
   설정: 하루 3시간
   
   실제 사용:
   09:00-10:30 → 1시간 30분 사용 (잔여: 1시간 30분)
   14:00-15:00 → 1시간 사용 (잔여: 30분)
   19:00-19:30 → 30분 사용 (잔여: 0분) ❌ 잠김!
   ```

#### 사용자 피드백
- ℹ️ **안내 메시지**: "Premium으로 업그레이드하면 아침/점심/저녁 시간대를 각각 설정할 수 있습니다"
- 📊 **통계 화면**: "시간대별 사용 패턴" 영역에 흐릿한 처리 + "Premium 기능" 배지
- 💡 **실제 사용 사례 표시**: "오전에만 2시간 쓰고 싶으신가요? Premium에서 가능합니다"

---

### 💎 Premium 티어 - 시간대별 제한 (최대 3개)

#### 기능 설명
Premium 사용자는 **하루를 최대 3개 시간대로 분할**하여 각 시간대별로 독립적인 사용 시간을 설정할 수 있습니다.

#### 설정 가능 항목
```
┌─────────────────────────────────────┐
│   💎 시간대별 사용 시간 설정         │
├─────────────────────────────────────┤
│                                     │
│  [+ 시간대 추가] (3개 중 2개 사용)   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📅 시간대 1: 아침             │   │
│  │ ⏰ 09:00 - 12:00            │   │
│  │ ⏱️  사용 시간: 1시간         │   │
│  │              [수정] [삭제]   │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📅 시간대 2: 저녁             │   │
│  │ ⏰ 18:00 - 23:00            │   │
│  │ ⏱️  사용 시간: 2시간         │   │
│  │              [수정] [삭제]   │   │
│  └─────────────────────────────┘   │
│                                     │
│  ⚠️ 시간대는 겹칠 수 없습니다        │
│                                     │
│  💡 팁: 시간대마다 독립적으로         │
│      카운트되어 더 효율적입니다       │
│                                     │
└─────────────────────────────────────┘
```

#### 동작 방식
1. **독립 카운터 방식**
   - 각 시간대는 독립적인 카운터 보유
   - 시간대 A에서 다 쓴 시간이 시간대 B에 영향 없음
   
2. **시간대 정의**
   - 시작 시간과 종료 시간 설정 (15분 단위)
   - 최소 시간대 길이: 1시간
   - 최대 시간대 길이: 제한 없음
   - 시간대 간 간격: 제한 없음 (겹치지만 않으면 됨)

3. **예시 시나리오**
   ```
   설정:
   - 시간대 1: 09:00-12:00, 사용 1시간
   - 시간대 2: 13:00-18:00, 사용 1.5시간
   - 시간대 3: 19:00-23:00, 사용 2시간
   
   실제 사용:
   09:30-10:30 → 1시간 사용 (시간대 1 소진) ❌ 시간대 1 잠김
   10:31-12:00 → 사용 불가 (시간대 1 종료)
   13:00-14:30 → 1.5시간 사용 (시간대 2 소진) ❌ 시간대 2 잠김
   19:00-      → 시간대 3은 여전히 2시간 사용 가능! ✅
   ```

4. **제한 사항**
   - ⚠️ 최대 3개 시간대만 등록 가능
   - ❌ 시간대 겹침 불가

#### 검증 규칙
```swift
// 시간대 검증 로직
func validateTimeSlot(newSlot: TimeSlot, existingSlots: [TimeSlot]) -> Bool {
    // 1. 최대 3개 체크
    if existingSlots.count >= 3 {
        return false // "최대 3개까지만 등록 가능합니다"
    }
    
    // 2. 시간대 겹침 체크
    for slot in existingSlots {
        if newSlot.overlaps(with: slot) {
            return false // "시간대가 겹칩니다"
        }
    }
    
    // 3. 최소 길이 체크
    if newSlot.duration < 1.hour {
        return false // "최소 1시간 이상 설정해주세요"
    }
    
    return true
}
```

#### Premium 추가 기능
- ✨ **시간대별 이름 지정**: "아침", "점심", "저녁" 등 커스텀 이름
- 📊 **시간대별 상세 통계**: 각 시간대 사용 패턴 분석
- 🎯 **AI 최적화 제안**: "점심 시간대 사용률이 낮습니다. 저녁으로 이동하시겠어요?"
- 🔔 **시간대 전환 알림**: 다음 시간대 시작 5분 전 알림
- 📋 **프리셋 템플릿**: "직장인", "학생", "프리랜서" 등 추천 설정

#### 사용자 피드백
- ✨ **프리미엄 배지**: 화면 상단에 "Premium" 배지 표시
- 📊 **시간대별 통계**: 각 시간대별 사용률 그래프
- 🎯 **최적화 제안**: "점심시간(12-13시)에는 사용하지 않으시는군요! 시간대 2를 13시부터 시작하시는 건 어떨까요?"

---

## 📊 티어별 기능 비교표

| 기능 | Free | Premium |
|------|------|---------|
| **시간 제한 방식** | 하루 총량 | 시간대별 분할 (최대 3개) |
| **시간대 개수** | - | 최대 3개 |
| **시간대 최소 단위** | 1시간 | 15분 |
| **시간대별 이름** | ❌ | ✅ |
| **프리셋 템플릿** | ❌ | ✅ ("직장인", "학생" 등) |
| **AI 최적화 제안** | ❌ | ✅ |
| **시간대 전환 알림** | ❌ | ✅ |
| **창의적 해제** | 3회/일 | 무제한 |
| **단어 새로고침** | 1회/일 | 무제한 |
| **듀얼 AI 평가** | 단일 AI | GPT + Claude |
| **통계 기간** | 7일 | 무제한 |
| **시간대별 통계** | ❌ | ✅ |
| **광고** | 있음 | 없음 |
| **가격** | 무료 | $3.99/월 |

---

## 🎨 UI/UX 설계

### 설정 화면 진입
```
메인 화면 → [⚙️ 설정] 버튼 → 시간 제한 설정
```

### Free 사용자 화면
```
┌─────────────────────────────────────┐
│  ⚙️ 시간 제한 설정           [Free] │
├─────────────────────────────────────┤
│                                     │
│  하루 총 사용 시간                   │
│  ┌─────────────────────────────┐   │
│  │       [  3시간  ]           │   │
│  └─────────────────────────────┘   │
│                                     │
│  ⏰ 자동 해제 시간                   │
│  ┌─────────────────────────────┐   │
│  │      다음날 00시            │   │
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│  💡 이런 고민 있으신가요?            │
│                                     │
│  "아침에는 적게, 저녁에는 많이       │
│   쓰고 싶어요"                       │
│                                     │
│  "출근 준비 시간엔 제한 없이         │
│   쓰고 싶어요"                       │
│                                     │
│  Premium으로 해결하세요!             │
│  ✨ 시간대별 독립적인 제한 (최대 3개) │
│  ✨ 아침/점심/저녁 각각 다른 설정    │
│  ✨ 창의적 해제 무제한               │
│  ✨ 광고 제거                        │
│                                     │
│  [💎 Premium 시작하기 ($3.99/월)]  │
└─────────────────────────────────────┘
```

### Premium 사용자 화면
```
┌─────────────────────────────────────┐
│  ⚙️ 시간 제한 설정      [💎Premium] │
├─────────────────────────────────────┤
│                                     │
│  [● 시간대별 제한]  [ 하루 총량]     │
│                                     │
│  📅 시간대 관리                      │
│  [+ 시간대 추가] (3개 중 2개 사용)   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📅 아침 시간                 │   │
│  │ ⏰ 09:00 - 12:00            │   │
│  │ ⏱️  1시간 사용 가능          │   │
│  │ 📊 사용률: 80% (48분/60분)   │   │
│  │          [📝] [🗑️]          │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📅 저녁 시간                 │   │
│  │ ⏰ 19:00 - 23:00            │   │
│  │ ⏱️  2시간 사용 가능          │   │
│  │ 📊 사용률: 45% (54분/120분)  │   │
│  │          [📝] [🗑️]          │   │
│  └─────────────────────────────┘   │
│                                     │
│  [📋 추천 템플릿 불러오기]          │
│                                     │
└─────────────────────────────────────┘
```

### 업그레이드 프롬프트 디자인

#### Free → Premium 유도
```
┌─────────────────────────────────────┐
│         💎 Premium 업그레이드        │
├─────────────────────────────────────┤
│                                     │
│  시간대별 세밀한 제어로               │
│  생산성을 극대화하세요!               │
│                                     │
│  실제 Premium 사용자들의 이야기:      │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                     │
│  👤 "아침엔 30분, 저녁엔 2시간으로   │
│      나눠서 쓰니까 훨씬 좋아요!"     │
│      - 직장인 김OO                  │
│                                     │
│  👤 "점심시간엔 제한 없이 쓰고,      │
│      공부 시간엔 차단할 수 있어요"   │
│      - 대학생 이OO                  │
│                                     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                     │
│  Premium 기능:                      │
│  ✨ 하루를 최대 3개 시간대로 분할     │
│  ✨ 각 시간대마다 독립적인 카운터     │
│  ✨ 창의적 해제 무제한                │
│  ✨ 단어 새로고침 무제한              │
│  ✨ 듀얼 AI 평가 (GPT + Claude)     │
│  ✨ 광고 완전 제거                   │
│  ✨ 무제한 사용 통계                 │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  월간: $3.99                        │
│  연간: $31.99 (33% 절약! 🎉)       │
│                                     │
│  [14일 무료 체험 시작]               │
│  [나중에 하기]                       │
│                                     │
└─────────────────────────────────────┘
```

---

## 🔧 기술 요구사항

### 데이터 모델

#### Free 티어 데이터 구조
```swift
struct FreeTierSettings: Codable {
    let tier: SubscriptionTier = .free
    var dailyLimit: TimeInterval // 초 단위, 예: 10800 (3시간)
    var autoUnlockTime: Date // 자동 해제 시간 (다음날 00시)
}
```

#### Premium 티어 데이터 구조
```swift
struct PremiumTierSettings: Codable {
    let tier: SubscriptionTier = .premium
    var timeSlots: [TimeSlot] // 최대 3개
}

struct TimeSlot: Codable, Identifiable {
    let id: UUID
    var name: String // "아침 시간", "저녁 시간" 등
    var startTime: Date // 시작 시간 (HH:mm)
    var endTime: Date // 종료 시간 (HH:mm)
    var allowedDuration: TimeInterval // 허용 시간
    var createdAt: Date
    
    // 검증 메서드
    func overlaps(with other: TimeSlot) -> Bool {
        // 시간대 겹침 검사 로직
    }
    
    var duration: TimeInterval {
        // startTime과 endTime 차이 계산
    }
}
```

### Core Data 스키마

```swift
// SubscriptionEntity
@objc(SubscriptionEntity)
public class SubscriptionEntity: NSManagedObject {
    @NSManaged public var tier: String // "free", "premium"
    @NSManaged public var startDate: Date
    @NSManaged public var expiryDate: Date?
    @NSManaged public var isActive: Bool
}

// TimeSlotEntity
@objc(TimeSlotEntity)
public class TimeSlotEntity: NSManagedObject {
    @NSManaged public var id: UUID
    @NSManaged public var name: String
    @NSManaged public var startHour: Int16
    @NSManaged public var startMinute: Int16
    @NSManaged public var endHour: Int16
    @NSManaged public var endMinute: Int16
    @NSManaged public var allowedDuration: Double
}
```

### 구독 상태 관리

```swift
class SubscriptionManager: ObservableObject {
    @Published var currentTier: SubscriptionTier = .free
    @Published var isSubscriptionActive: Bool = false
    
    func checkSubscriptionStatus() {
        // StoreKit 2로 구독 상태 확인
    }
    
    func canAddTimeSlot(currentCount: Int) -> Bool {
        switch currentTier {
        case .free:
            return false
        case .premium:
            return currentCount < 3
        }
    }
}
```

### 시간 추적 로직

```swift
class UsageTracker {
    func getCurrentTimeSlot() -> TimeSlot? {
        let now = Date()
        let settings = loadCurrentSettings()
        
        switch settings.tier {
        case .free:
            // 하루 전체가 하나의 시간대
            return nil // Free는 시간대 개념 없음
            
        case .premium:
            // 현재 시간이 속한 시간대 찾기
            return settings.timeSlots.first { slot in
                slot.contains(time: now)
            }
        }
    }
    
    func shouldLockDevice() -> Bool {
        let tier = SubscriptionManager.shared.currentTier
        
        switch tier {
        case .free:
            // 하루 총 사용 시간 체크
            return todayUsage >= dailyLimit
            
        case .premium:
            // 현재 시간대의 사용 시간 체크
            guard let currentSlot = getCurrentTimeSlot() else {
                return false // 설정된 시간대 밖이면 제한 없음
            }
            let slotUsage = getUsageFor(timeSlot: currentSlot)
            return slotUsage >= currentSlot.allowedDuration
        }
    }
}
```

---

## 📱 사용자 여정 (User Journey)

### Free 사용자의 여정

```
1. 앱 다운로드 & 첫 설정
   ↓
2. "하루 3시간" 설정
   ↓
3. 오전에 1시간, 오후에 1시간 사용
   ↓
4. 저녁 7시에 1시간 더 쓰려고 하니 잠김 ❌
   ↓
5. "아, 저녁 시간에만 쓰고 싶었는데..."
   ↓
6. [💎 Premium 안내 표시]
   "시간대별로 나눠서 설정하실 수 있어요!"
   "아침 1시간, 저녁 2시간으로 나눠보세요"
   ↓
7. 14일 무료 체험 시작
   ↓
8. 시간대별 설정의 편리함 경험
   ↓
9. Premium 유료 전환 ✅
```

### Premium 사용자의 여정

```
1. Premium 구독 시작 (14일 무료 체험)
   ↓
2. 시간대 3개 설정:
   - 아침(07-09시): 30분 (출근 준비)
   - 점심(12-14시): 30분 (점심 시간)
   - 저녁(18-23시): 2시간 (자유 시간)
   ↓
3. 2주 사용 후...
   "이제 스마트폰 사용이 패턴화되었어!"
   "아침엔 빨리 준비하고, 저녁엔 여유있게"
   ↓
4. 무료 체험 종료 알림
   ↓
5. "이 기능 없으면 힘들겠다" → 유료 전환 ✅
   ↓
6. 지속적인 만족도 유지
   ↓
7. 친구에게 추천 → 앱 성장
```

---

## 🚀 구현 로드맵

### Phase 1: Free 티어 구현 (Week 1-2)
- [ ] 하루 총량 제한 UI
- [ ] 단일 카운터 추적 로직
- [ ] 잠금/해제 로직
- [ ] Premium 업그레이드 프롬프트

### Phase 2: Premium 티어 구현 (Week 3-5)
- [ ] StoreKit 2 구독 연동
- [ ] App Store Connect 구독 상품 등록
- [ ] 시간대 관리 UI
- [ ] 시간대별 독립 카운터
- [ ] 시간대 검증 로직
- [ ] 무료 체험 (14일) 구현

### Phase 3: Premium 추가 기능 (Week 6-7)
- [ ] 시간대별 상세 통계
- [ ] AI 최적화 제안
- [ ] 프리셋 템플릿 ("직장인", "학생" 등)
- [ ] 시간대 전환 알림
- [ ] 듀얼 AI 평가 (GPT + Claude)

### Phase 4: 최적화 & 테스트 (Week 8-9)
- [ ] 성능 최적화
- [ ] 엣지 케이스 테스트
- [ ] A/B 테스트 (프롬프트 문구)
- [ ] 가격 테스트 ($3.99 vs $4.99)
- [ ] 사용자 피드백 수집

### Phase 5: 출시 준비 (Week 10)
- [ ] App Store 스크린샷 & 설명
- [ ] 프로모션 비디오
- [ ] 리뷰 요청 시스템
- [ ] 출시 마케팅 준비

---

## 📊 성공 지표 (KPI)

### 전환율 목표
- **Free → Premium (14일 체험)**: 20% (첫 7일 내 체험 시작)
- **무료 체험 → 유료 전환**: 50% (14일 체험 종료 후)
- **전체 Free → Paid 전환율**: 10% (첫 30일 내)

### 사용자 행동 지표
- **Premium 사용자의 평균 시간대 개수**: 2.5개
- **가장 많이 사용되는 시간대**: 저녁 시간 (18-23시)
- **시간대 수정 빈도**: 주 1회
- **앱 재방문율**: 90% (일주일 기준)

### 재무 지표
- **ARPU (Average Revenue Per User)**: $1.50
- **LTV (Lifetime Value)**: $48 (12개월 기준)
- **CAC (Customer Acquisition Cost)**: $12
- **LTV:CAC 비율**: 4:1
- **월 예상 수익**: $15,000 (5,000명 Premium 사용자 기준)

### 만족도 지표
- **앱스토어 평점**: 4.5+ / 5.0
- **구독 해지율**: 월 5% 이하
- **NPS (Net Promoter Score)**: 50+

---

## 💰 수익 예측 (보수적 추정)

### 목표 사용자 기반 (1년차)
```
다운로드: 50,000
무료 사용자: 45,000 (90%)
Premium 전환: 5,000 (10%)
```

### 월간 수익 예측 (1년차 평균)
```
Premium 구독 수익:
- 월간 구독: 3,500명 × $3.99 = $13,965
- 연간 구독: 1,500명 × $31.99 / 12 = $3,999

광고 수익:
- 무료 사용자: 45,000명 × $0.40 = $18,000

인앱 구매 (단어팩, 테마 등):
- 예상 수익: $3,000

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
월 총 수익: ~$39,000
연 수익: ~$468,000
```

### API 비용 (월)
```
OpenAI GPT-4:
- Premium 사용자: 5,000명 × 평균 15회/월 × $0.02 = $1,500

Anthropic Claude:
- Premium 사용자: 5,000명 × 평균 15회/월 × $0.015 = $1,125

서버/인프라:
- AWS/GCP: $2,000

광고 네트워크 비용:
- AdMob: $1,000

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
월 비용: ~$5,625
순이익: ~$33,375/월 ($400,500/년)
```

---

## 🎯 가격 전략

### $3.99 가격 책정 근거

1. **심리적 가격대**
   - $3.99는 "$4 미만"으로 인식
   - 커피 한 잔 가격으로 비교 가능
   - "매일 $0.13" = 부담 없는 금액

2. **경쟁사 분석**
   - Forest: $3.99
   - Freedom: $6.99/월
   - Opal: $4.99/월
   - **결론**: 시장 평균보다 저렴하면서 가치 제공

3. **전환율 최적화**
   - 낮은 가격 = 높은 전환율
   - 목표: 10% 전환율
   - $4.99 대비 전환율 30% 향상 예상

4. **연간 할인**
   - 월간: $3.99 × 12 = $47.88
   - 연간: $31.99 (33% 할인)
   - 절약: $15.89 → 강력한 인센티브

### 지역별 가격 차등

```
미국/캐나다: $3.99
한국: ₩5,500
일본: ¥600
유럽: €3.99
영국: £3.49
호주: A$5.99
개발도상국: 30-50% 할인 (PPP 고려)
```

### 프로모션 전략

#### 론칭 프로모션
- 🎊 **얼리버드 할인**: 첫 1,000명 $2.99 (25% 할인)
- 🎁 **친구 초대**: 추천인과 가입자 모두 1개월 무료

#### 계절 프로모션
- 🎓 **새학기 시즌** (3월, 9월): 학생 50% 할인
- 🎄 **연말 시즌** (12월): 연간 구독 40% 할인
- 💝 **기념일**: 앱 출시 기념일 특별 할인

#### 리텐션 프로모션
- 🔄 **재가입 할인**: 해지 후 1개월 내 재가입 시 50% 할인
- 🎯 **장기 구독 보너스**: 6개월 연속 구독 시 1개월 무료

---

## ⚠️ 주의사항 및 고려사항

### 사용자 경험

1. **Free 티어의 가치**
   - 무료 버전이 너무 제한적이면 초기 이탈 증가
   - 핵심 가치는 경험할 수 있도록 유지
   - **균형점**: 불편함은 있지만 기본 기능은 작동
   
2. **업그레이드 타이밍**
   - ❌ 너무 자주: 사용자 불만
   - ❌ 너무 늦게: 전환 기회 상실
   - ✅ **최적 타이밍**:
     - 첫 잠금 경험 시
     - 3일 사용 후
     - 목표 달성 실패 시
   
3. **다운그레이드 처리**
   - Premium → Free: 시간대 설정 초기화
   - 기존 통계 데이터는 보관 (재구독 시 복원)
   - 다운그레이드 이유 수집 → 개선

### 기술적 고려사항

1. **시간대 전환 시점**
   - 시간대가 바뀌는 순간의 사용 중 앱 처리
   - 시간대 경계에서의 카운터 리셋
   - **해결**: 시간대 종료 5분 전 경고
   
2. **오프라인 처리**
   - 오프라인 상태에서의 시간 추적
   - 재연결 시 동기화
   - **해결**: 로컬 시간 기반 추적
   
3. **시간대 수정 시**
   - 현재 사용 중인 시간대 수정 시 처리
   - 과거 통계 데이터 정합성
   - **해결**: 수정 시 즉시 반영 + 경고 메시지

### 비즈니스 리스크

1. **구독 해지율**
   - 목표: 월 5% 이하
   - 해지 이유 분석 및 개선
   - **대응**: 해지 전 설문 + 재가입 할인 제공
   
2. **가격 저항**
   - 일부 지역에서 $3.99도 부담
   - **대응**: 지역별 가격 차등화
   
3. **무료 체험 남용**
   - 이메일 변경을 통한 반복 무료 체험
   - **대응**: Device ID 기반 체험 제한

---

## 📝 마이그레이션 전략

### 기존 사용자 처리
```
기존 Free 사용자:
- 그대로 Free 유지
- "New! 시간대별 제한 기능 추가" 안내
- 14일 무료 체험 제공

기존 유료 사용자 (만약 있다면):
- 자동으로 Premium 부여
- "감사 메시지 + 특별 혜택" 제공
- 연간 구독으로 전환 시 추가 3개월 무료
```

### 데이터 마이그레이션
```swift
func migrateToTimeSlotsSystem() {
    let users = fetchAllUsers()
    
    for user in users {
        if user.hasOldDailyLimitSetting {
            // 기존 하루 총량 설정을 Free 모델로 변환
            let freeSetting = FreeTierSettings(
                dailyLimit: user.oldDailyLimit,
                autoUnlockTime: user.oldAutoUnlockTime
            )
            user.settings = freeSetting
        }
    }
}
```

---

## 🎯 다음 단계

### 즉시 착수
1. ✅ **요구사항 최종 승인**
2. 🎨 **UI/UX 디자인 상세화** (Figma)
3. 💳 **App Store Connect 구독 상품 등록**
   - Product ID: `com.smartlockbox.premium.monthly`
   - Product ID: `com.smartlockbox.premium.yearly`

### 개발 단계
4. 🔧 **StoreKit 2 구독 시스템 구현**
5. 💻 **Free 티어 개발**
6. 💎 **Premium 티어 개발**
7. 🧪 **테스트 & QA**

### 출시 준비
8. 📱 **베타 테스트** (TestFlight)
9. 📊 **A/B 테스트** (가격, 프롬프트)
10. 🚀 **정식 출시**

---

## 📞 지원 및 문의

### 구독 관련 FAQ

**Q: 무료 체험은 어떻게 되나요?**
A: Premium은 14일 무료 체험이 제공됩니다. 체험 기간 동안 언제든 해지 가능하며, 해지 시 요금이 청구되지 않습니다.

**Q: 구독을 해지하면 어떻게 되나요?**
A: 해지 시 현재 구독 기간이 끝날 때까지 Premium 기능을 사용할 수 있으며, 이후 자동으로 Free 티어로 전환됩니다.

**Q: 환불 정책은 어떻게 되나요?**
A: Apple의 환불 정책을 따릅니다. App Store를 통해 환불 요청이 가능합니다.

**Q: 가족과 공유할 수 있나요?**
A: 현재는 개인 구독만 지원합니다. 가족 공유는 향후 업데이트 예정입니다.

---

**문서 버전**: 2.0  
**최종 수정일**: 2025년 11월 3일  
**작성자**: DevJihwan  
**주요 변경사항**: 
- Pro 티어 제거로 2-tier 모델로 단순화
- Premium 가격 $4.99 → $3.99로 조정
- 연간 가격 $39.99 → $31.99로 조정
- 사용자 여정 및 UI 디자인 업데이트
